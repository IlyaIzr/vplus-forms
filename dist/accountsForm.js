!function(e){function t(t){for(var a,o,l=t[0],u=t[1],c=t[2],d=0,f=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(s&&s(t);f.length;)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var u=n[l];0!==r[u]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={2:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var s=u;i.push([223,0,1]),n()}({11:function(e,t,n){var a=n(61),r=n(62),i=n(27),o=n(63);e.exports=function(e){return a(e)||r(e)||i(e)||o()}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n.n(a),i=n(34),o=n(37),l=Object(o.a)(),u=function(e){var t=e.isRequired,n=void 0!==t&&t,a=e.isEditable,o=void 0===a||a,u=e.name,c=void 0===u?"":u,s=e.isMulti,d=void 0!==s&&s,f=e.onChange,m=e.value,v=e.label,p=e.options,b=e.optionWrapper,y=void 0!==b&&b,E=Array.isArray(m)?m.length?"a":"":m&&m.value?"a":"";return r.a.createElement("div",{className:n?"required field":"field"},v&&r.a.createElement("label",{htmlFor:c},v),r.a.createElement(i.a,{options:p,components:y?{Option:y}:l,name:c,onChange:f,isDisabled:!o,value:m,isMulti:d}),n&&r.a.createElement("input",{type:"text",value:E,required:n,style:{opacity:0,height:0,padding:0},tabIndex:-1,autoComplete:"off"}))}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n.n(a),i=function(e){var t=e.isRequired,n=void 0!==t&&t,a=e.name,i=void 0===a?"":a,o=e.label,l=void 0!==o&&o,u=e.minLength,c=void 0!==u&&u,s=e.isEditable,d=void 0===s||s,f=e.value,m=e.onChange;return r.a.createElement("div",{className:n?"required field":"field"},l&&r.a.createElement("label",{htmlFor:i},l),r.a.createElement("input",{type:"text",name:i,value:f,onChange:m,required:n,disabled:!d,minLength:c||void 0}))}},223:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),o=n.n(i),l=n(3),u=n.n(l),c=n(9),s=n.n(c),d=n(11),f=n.n(d),m=n(1),v=n.n(m),p=n(12),b=n.n(p),y=n(16),E=n(17);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var h,O={value:"",isEditable:!0,isRequired:!0},j={value:"",options:[],isEditable:!0,isRequired:!1},C=function(e){return e.length&&e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({label:e.name,value:e.type},e)}))},q=n(25),w=function(e){var t=e.account,n=e.options,i=e.isRequired,o=void 0===i||i,l=e.isEditable,u=void 0===l||l,c=e.onAccountTypeChange,s=e.onCustomAccChange,d=e.index,f=e.deleteField,m=e.canDelete,p=Object(a.useState)([]),b=v()(p,2),g=b[0],h=b[1],O=function(e){return s(e.target.name,e.target.value,d)};return Object(a.useEffect)((function(){var e=n.filter((function(e){return e.value===t.value}))[0];e&&h(e.fields)}),[t.value]),r.a.createElement("div",null,r.a.createElement(y.a,{label:"@(Тип платежной системы)",name:"accountType",isRequired:o,isEditable:u,options:n,value:t,onChange:function(e){return c(e,d)}}),r.a.createElement("div",{className:"fields"},Boolean(g.length)&&g.map((function(e){return"text"===e.type?r.a.createElement(E.a,{label:e.label,name:e.name,isRequired:e.isRequired,isEditable:e.isEditable,value:t[e.name],onChange:O,key:e.name+"txt"+t.value}):"number"===e.type?r.a.createElement(q.a,{label:e.label,name:e.name,isRequired:e.isRequired,isEditable:e.isEditable,value:t[e.name],onChange:O,step:e.step,min:e.min,max:e.max,key:e.name+"txt"+t.value}):void 0}))),r.a.createElement("button",{className:"ui right floated button red ".concat(!m&&"disabled"),type:"button",onClick:function(){return f(d)}},"@(Удалить)"))},x=function(e){var t=e.type,n=e.value,a=e.index,i=e.addContactInfo,o=e.deleteField,l=function(e){return i(e.target.name,e.target.value,a)};return r.a.createElement("div",{className:"two fields"},r.a.createElement(E.a,{label:"@(Содержание контакта)",name:"valueOfContact",isRequired:!1,isEditable:!0,value:n,onChange:l}),r.a.createElement(E.a,{label:"@(Название контакта)",name:"typeOfContact",isRequired:!1,isEditable:!0,value:t,onChange:l}),r.a.createElement("button",{className:"ui button red small",type:"button",onClick:function(){return o(a)}},"@(Удалить)"))};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){return e.length&&e.map((function(e){return N({value:e.type},e)}))},S=function(){var e=Object(a.useState)({options:[{label:"@(Отменить выбор)",value:""},{label:"VK",value:"vk"},{label:"Facebook",value:"facebook"}],value:"",isEditable:!0,isRequired:!1}),t=v()(e,2),n=t[0],i=t[1],o=Object(a.useState)(O),l=v()(o,2),c=l[0],d=l[1],m=Object(a.useState)(O),p=v()(m,2),b=p[0],g=p[1],q=Object(a.useState)(O),R=v()(q,2),S=R[0],k=R[1],D=Object(a.useState)(N(N({},O),{},{isRequired:!1})),F=v()(D,2),A=F[0],M=F[1],T=Object(a.useState)(N(N({},j),{},{accounts:[{type:"",value:""}]})),I=v()(T,2),_=I[0],L=I[1],B=function(e,t){var n=f()(_.accounts),a={label:e.label,value:e.value,type:e.type};e.fields.forEach((function(e){a[e.name]=e.value})),n[t]=a,L(N(N({},_),{},{accounts:n}))},J=function(e,t,n){var a=f()(_.accounts);a[n][e]=t,L(N(N({},_),{},{accounts:a}))},W=function(e){var t=f()(_.accounts);t.splice(e,1),L(N(N({},_),{},{accounts:t}))},K=Object(a.useState)([{typeOfContact:"",valueOfContact:""}]),V=v()(K,2),z=V[0],G=V[1],H=function(e,t,n){var a=f()(z);a[n][e]=t,G(a)},Q=function(e){var t=f()(z);t.splice(e,1),G(t)};Object(a.useEffect)((function(){function e(){return(e=s()(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=new WebsocketPromiseLiteClient({url:"ws://localhost:5555"}),e.next=3,h.connectionEstablished();case 3:return e.next=5,h.send("accounts","accountsFormData",{});case 5:t=e.sent,n=t.accountsMetaData,a=C(n.options),r=P(n.accounts),L(N(N({},n),{},{options:a,accounts:r}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var U=function(){var e=s()(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={socials:{socialField:n,socialLoginField:c,socialNameField:b,socialSecondNameField:S,socialThirdNameField:A},accountsMeta:_,extraContacts:z},console.log(a),e.next=5,h.send("accounts","accountsFormData",a);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"ui container"},r.a.createElement("br",null),r.a.createElement("h2",null,"@(Аккаунты и счета)"),r.a.createElement("form",{className:"ui form",onSubmit:U},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h4",null,"@(Счета)"),Boolean(_.accounts.length)&&_.accounts.map((function(e,t){var n=_.accounts.length>1;return r.a.createElement("div",{className:"ui clearing  segment",key:t},r.a.createElement(w,{account:e,options:_.options,isEditable:_.isEditable,isRequired:_.isRequired,onAccountTypeChange:B,index:t,onCustomAccChange:J,deleteField:W,canDelete:n}))})),r.a.createElement("button",{className:"ui button green",type:"button",onClick:function(){var e=f()(_.accounts);e.push({type:"",value:""}),L(N(N({},_),{},{accounts:e}))}},"@(Добавить)")),r.a.createElement("div",{className:"ui segment"},r.a.createElement("h4",null,"@(Соцсети)"),r.a.createElement(y.a,{label:"@(Выберите соцсеть)",name:"social",isRequired:n.isRequired,isEditable:n.isEditable,options:n.options,value:n.value,onChange:function(e){return i(N(N({},n),{},{value:e}))}}),n.value&&n.value.value&&r.a.createElement("div",null,r.a.createElement(E.a,{label:"@(Логин или почта)",name:"socialLogin",isRequired:c.isRequired,isEditable:c.isEditable,value:c.value,onChange:function(e){return d(N(N({},c),{},{value:e.target.value}))}}),r.a.createElement("div",{className:"three fields"},r.a.createElement(E.a,{label:"@(Имя)",name:"socialName",isRequired:b.isRequired,isEditable:b.isEditable,value:b.value,onChange:function(e){return g(N(N({},b),{},{value:e.target.value}))}}),r.a.createElement(E.a,{label:"@(Фамилия)",name:"socialSecondName",isRequired:S.isRequired,isEditable:S.isEditable,value:S.value,onChange:function(e){return k(N(N({},S),{},{value:e.target.value}))}}),r.a.createElement(E.a,{label:"@(Отчество)",name:"socialThirdName",isRequired:A.isRequired,isEditable:A.isEditable,value:A.value,onChange:function(e){return M(N(N({},A),{},{value:e.target.value}))}})))),r.a.createElement("div",{className:"ui segment"},r.a.createElement("h4",null,"@(Дополнительные контакты)"),Boolean(z.length)&&z.map((function(e,t){return r.a.createElement(x,{type:e.typeOfContact,value:e.valueOfContact,index:t,addContactInfo:H,deleteField:Q,key:t})})),r.a.createElement("button",{type:"button",onClick:function(){var e=f()(z);e.push({typeOfContact:"",valueOfContact:""}),G(e)},className:"ui button teal"},"@(Добавить поле)"),r.a.createElement("div",{className:"ui warning message",style:{display:"block"}},"@(Здесь вы можете указать телефон, текст подсказки далее...)")),r.a.createElement("button",{className:"ui button green",type:"submit"},"@(Отправить)")))};o.a.render(r.a.createElement(S,null),document.getElementById("root"))},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n.n(a),i=function(e){var t=e.isRequired,n=void 0!==t&&t,a=e.name,i=void 0===a?"":a,o=e.label,l=void 0!==o&&o,u=e.min,c=void 0!==u&&u,s=e.max,d=void 0!==s&&s,f=e.step,m=void 0!==f&&f,v=e.isEditable,p=void 0===v||v,b=e.value,y=e.onChange;return r.a.createElement("div",{className:"field ".concat(n&&"required")},l&&r.a.createElement("label",{htmlFor:i},l),r.a.createElement("input",{type:"number",name:i,value:b,required:n,disabled:!p,onChange:y,min:c||void 0,max:d||void 0,step:m||void 0}))}},61:function(e,t,n){var a=n(28);e.exports=function(e){if(Array.isArray(e))return a(e)}},62:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},63:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}}});